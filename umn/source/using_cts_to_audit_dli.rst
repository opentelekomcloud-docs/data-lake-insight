:original_name: dli_01_0318.html

.. _dli_01_0318:

Using CTS to Audit DLI
======================

With CTS, you can log operations related to DLI, making it easier to search, audit, and trace in the future.

.. table:: **Table 1** DLI operations that can be recorded by CTS

   +------------------------------------------------------------------+----------------+-------------------------------+
   | Operation                                                        | Resource Type  | Trace Name                    |
   +==================================================================+================+===============================+
   | Creating a database                                              | database       | createDatabase                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a database                                              | database       | deleteDatabase                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Changing the database owner                                      | database       | alterDatabaseOwner            |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a table                                                 | table          | createTable                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting tables                                                  | table          | deleteTable                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Exporting table data                                             | table          | exportData                    |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Importing table data                                             | table          | importData                    |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Changing the owner of a table                                    | table          | alterTableOwner               |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a queue                                                 | queue          | createQueue                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a queue                                                 | queue          | deleteQueue                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Granting permissions to a queue                                  | queue          | queueAuthorize                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Modifying the CIDR block of a queue                              | queue          | replaceQueue                  |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Restarting a queue                                               | queue          | queueActions                  |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Scaling out/in a queue                                           | queue          | queueActions                  |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Submitting a job (SQL)                                           | queue          | submitJob                     |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Canceling a job (SQL)                                            | jobs           | cancelJob                     |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Granting DLI the permission to access OBS buckets                | obs            | authorizeObsBucketsForStream  |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Checking SQL syntax                                              | jobs           | checkSQL                      |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a job                                                   | jobs           | deleteStreamJob               |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a Flink OpenSource SQL job                              | jobs           | createStreamSqlJob            |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Updating a Flink OpenSource SQL job                              | jobs           | updateStreamSqlJob            |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting Flink jobs in batches                                   | jobs           | deleteStreamJobs              |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Stopping a Flink job                                             | jobs           | stopStreamJobs                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Submitting a Flink job                                           | jobs           | submitStreamJobs              |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a Flink Jar job                                         | jobs           | createStreamJarJob            |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Updating a Flink Jar job                                         | jobs           | updateStreamJarJob            |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Viewing Flink jobs                                               | jobs           | checkStreamJob                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Importing a savepoint                                            | jobs           | dealSavepoint                 |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Granting data permissions                                        | authorization  | dataAuthorize                 |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Granting permissions on other projects                           | authorization  | projectDataAuthorize          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Exporting query results                                          | jobs           | storeJobResult                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Saving a SQL template                                            | template       | createTemplate                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Updating a SQL template                                          | template       | updateTemplate                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a SQL template                                          | template       | deleteTemplates               |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a Flink template                                        | template       | createStreamTemplate          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Updating a Flink template                                        | template       | updateStreamTemplate          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Viewing Flink templates                                          | template       | checkStreamTemplate           |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a Flink template                                        | template       | deleteStreamTemplate          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a datasource authentication and uploading a certificate | datasourceauth | uploadAuthInfo                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Updating datasource authentication information                   | datasourceauth | updateAuthInfo                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting datasource authentication information                   | datasourceauth | deleteAuthInfo                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Uploading a resource package                                     | resource       | uploadResources               |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a resource package                                      | resource       | deleteResource                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating an enhanced datasource connection                       | edsconnection  | createConnection              |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting an enhanced datasource connection                       | edsconnection  | deleteConnection              |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Binding a queue                                                  | edsconnection  | associateQueueToConnection    |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Unbinding a queue                                                | edsconnection  | disassociateQueueToConnection |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Modifying host information                                       | edsconnection  | updateHostInfo                |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Adding a route                                                   | edsconnection  | addRoute                      |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a route                                                 | edsconnection  | deleteRoute                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a batch processing job                                  | jobs           | createBatch                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Canceling a batch processing job                                 | jobs           | cancelBatch                   |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Creating a global variable                                       | variable       | createGlobalVariable          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Deleting a global variable                                       | variable       | deleteGlobalVariable          |
   +------------------------------------------------------------------+----------------+-------------------------------+
   | Modifying a global variable                                      | variable       | updateGlobalVariable          |
   +------------------------------------------------------------------+----------------+-------------------------------+
