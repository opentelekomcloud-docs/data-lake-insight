:original_name: dli_01_0363.html

.. _dli_01_0363:

Creating a Queue
================

Before executing a job, you need to create a queue.

.. note::

   -  If you use a sub-account to create a queue for the first time, log in to the DLI management console using the main account and keep records in the DLI database before creating a queue.
   -  It takes 6 to 10 minutes for a job running on a new queue for the first time.
   -  After a queue is created, if no job is run within one hour, the system releases the queue.

Procedure
---------

#. You can create a queue on the **Overview**, **SQL Editor**, or **Queue Management** page.

   -  In the upper right corner of the **Overview** page, click Create Queue.
   -  To create a queue on the **Queue Management** page:

      a. In the navigation pane of the DLI management console, choose **Resources** >\ **Queue Management**.
      b. In the upper right corner of the **Queue Management** page, click **Create Queue** to create a queue.

   -  To create a queue on the **SQL Editor** page:

      a. In the navigation pane of the DLI management console, click **SQL Editor**.
      b. Click **Queues**. On the tab page displayed, click |image1| on the right to create a queue.

#. On the **Create Queue** page displayed, set the parameters according to :ref:`Table 1 <dli_01_0363__table17301125219910>`.

   .. _dli_01_0363__table17301125219910:

   .. table:: **Table 1** Parameters

      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                         |
      +===================================+=====================================================================================================================================================================================================================================================================================================================+
      | Name                              | Name of a queue.                                                                                                                                                                                                                                                                                                    |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | -  The queue name can contain only digits, letters, and underscores (_), but cannot contain only digits, start with an underscore (_), or be left unspecified.                                                                                                                                                      |
      |                                   | -  The length of the name cannot exceed 128 characters.                                                                                                                                                                                                                                                             |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | .. note::                                                                                                                                                                                                                                                                                                           |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    The queue name is case-insensitive. Uppercase letters will be automatically converted to lowercase letters.                                                                                                                                                                                                      |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Type                              | -  **For SQL**: compute resources used for SQL jobs.                                                                                                                                                                                                                                                                |
      |                                   | -  **For general purpose**: compute resources used for Spark and Flink jobs.                                                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    .. note::                                                                                                                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |       Selecting **Dedicated Resource Mode** enables you to create a dedicated queue. Enhanced datasource connections can only be created for dedicated queues.                                                                                                                                                      |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Specifications                    | The compute nodes' total number of CUs. One CU equals one vCPU and 4 GB of memory. DLI automatically assigns CPU and memory resources to each compute node, and the client does not need to know how many compute nodes are being used.                                                                             |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Description                       | Description of the queue to be created. The description can contain a maximum of 128 characters.                                                                                                                                                                                                                    |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Advanced Settings                 | In the **Queue Type** area, select **Dedicated Resource Mode** and then click **Advanced Settings**.                                                                                                                                                                                                                |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | -  **Default**: The system automatically configures the parameter.                                                                                                                                                                                                                                                  |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | -  **Custom**                                                                                                                                                                                                                                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    **CIDR Block**: You can specify the CIDR block. For details, see :ref:`Modifying the CIDR Block <dli_01_0443>`. If DLI enhanced datasource connection is used, the CIDR block of the DLI queue cannot overlap with that of the data source.                                                                      |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    **Queue Type**: When running an AI-related SQL job, select **AI-enhanced**. When running other jobs, select **Basic**.                                                                                                                                                                                           |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Tags                              | Tags used to identify cloud resources. A tag includes the tag key and tag value. If you want to use the same tag to identify multiple cloud resources, that is, to select the same tag from the drop-down list box for all services, you are advised to create predefined tags on the Tag Management Service (TMS). |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | .. note::                                                                                                                                                                                                                                                                                                           |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    -  A maximum of 20 tags can be added.                                                                                                                                                                                                                                                                            |
      |                                   |    -  Only one tag value can be added to a tag key.                                                                                                                                                                                                                                                                 |
      |                                   |    -  The key name in each resource must be unique.                                                                                                                                                                                                                                                                 |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | -  Tag key: Enter a tag key name in the text box.                                                                                                                                                                                                                                                                   |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    .. note::                                                                                                                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |       A tag key can contain a maximum of 128 characters. Only letters, digits, spaces, and special characters ``(_.:=+-@)`` are allowed, but the value cannot start or end with a space or start with **\_sys\_**.                                                                                                  |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   | -  Tag value: Enter a tag value in the text box.                                                                                                                                                                                                                                                                    |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |    .. note::                                                                                                                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                                                                                                                     |
      |                                   |       A tag value can contain a maximum of 225 characters. Only letters, digits, spaces, and special characters ``(_.:=+-@)`` are allowed. The value cannot start or end with a space.                                                                                                                              |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

#. Click **Create Now** to create a queue.

   After a queue is created, you can view and select the queue for use on the **Queue Management** page.

   .. note::

      It takes 6 to 10 minutes for a job running on a new queue for the first time.

.. |image1| image:: /_static/images/en-us_image_0237406526.png
